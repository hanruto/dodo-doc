### 读文章前要做的事情

1. 想要看懂这篇文章，先去试着使用一下css3 的 transfrom 的 timing-funtion，用一下ps钢笔工具画一下曲线或者svg和canvas的path，这些都是贝塞尔曲线的应用。
2. 可能要拾起一些初中数学，高中数学，甚至高等数学。本文会尽量减少专业性的描述，简化问题，从而降低阅读成本。

### 如何绘制平滑的曲线

在数学领域，表示一条直线非常简单，比如 y = x , 就是一条斜率为 45 度的直线。  

![NGtEh7mtyF](https://user-images.githubusercontent.com/23400461/142159298-4a7b8921-454a-4718-8b12-f1e712064acf.png)

用二元方程式表示一条曲线的话也可以，比如 y = x ^ 2 , 这个会是一条朝上的抛物线。  

![x01wI80su8](https://user-images.githubusercontent.com/23400461/142159380-27a839ed-fbd1-4153-97bc-71fd24ec4fbd.png)

但是如果两个点确定一条稳定的直线很简单，并且是唯一解，只要写一个二元一次方程组很容易就能求得，而要确定一条曲线却发现有无数种解，有的大聪明可能会说我给他加一个点，三个点就能唯一确定一条二次方程曲线了，其实这个还真可以，但二次表达式会有个问题，比如我们先用三个点确定一条曲线，然后我们再往后加两个点，想要再拼接一条曲线会发现两条曲线就会遇到问题，两条抛物线很难平滑链接；  

所以其实在不同的场合适用的曲线的类型也不一样，比如要绘制一个把苹果从高楼上抛下的抛物线，那么用这种二次表达式是非常合理的，而且是最优解，因为绘图者就是想画这么一条曲线，而如果要绘制一块石头，画一个苹果，绘制一辆汽车的外形，这种抛物线就会不太合理，首先它无法平滑连接，其次他们的形状比较奇怪，并不适合用抛物线去拼接，拼接出来的效果也很难有理想的效果。

有人会说把所有的点都拿到然后用直线连接，只要点的密度足够大就能在视觉上达到曲线的效果。这个方法我猜计算机是可以接受的，毕竟它算的很快，但是设计师接受不了啊，画几千个点那不得累死。另外还有一个问题，如果把图放大看就直接露馅了，还是得用多次方程来画，所以绘制曲线就会遇到两个问题：

1. 两段连续的曲线怎么样才能平滑相连。
2. 不规则的曲线如何表达才会用到的点最少。

贝塞尔曲线给了这个问题一个最优解。  
贝塞尔曲线的方程表达式用到的数学知识点是1912年被俄国数学家Bernstein(伯恩斯坦)提出的一个多项式。1959年就职于雪铁龙的法国数学家Paul de Casteljau 把它应用于图形化，1962年就职于雷诺的法国工程师皮埃尔·贝塞尔也将它用来辅助汽车车体的工业设计，并且广泛宣传，贝塞尔曲线是用很少的点就能解决曲线的绘制的方法，于是大家纷纷效仿，并且以贝塞尔的名字为此曲线命名。

### 伯恩斯坦多项式

首先来做一道算法题，假如做10次实验，每次有成功和失败两种，成功概率是0.1，失败概率0.9，那么做10次实验，成功3次的概率是多少？  

推导的方法大概是这样，假如做10次实验，每次有成功和失败两种，成功概率是0.1，全部成功那么概率是 0.1 的 10次方，全部失败的概率是 0.9 的 10次方，那么只成功3次的概率是 0.1 ^ 3 * 0.9 ^ 7，咋一看好像差不多，但其实不然，这个算出来的其实是前三次成功后七次失败的概率，所以应该在乘以一个三次成功七次失败的组合排列。  

那么就有一个新的问题，三次成功七次失败可以有多少种排列组合？  
这个问题我们可以理解为先随机取一个数可以有10种，然后再取一个是9种，然后取一个是8种，但是取到的数字可能是一样的，比如先取1，然后取2，再取3和先取2，然后取3，再取1其实是同一个排列，所以需要去重复。最后可以得到 10 * 9 * 8 / 3 * 2 * 1种；

所以这道题的解就是 (10 * 9 * 8 / 3 * 2 * 1) * (0.1 ^ 3 * 0.9 ^ 7)；

会了这个题再看伯恩斯坦多项式就非常清晰了。

伯恩斯坦多项式用来计算的是在某个实验中，如果成功概率是u，那么做n次实验，正好成功i次的概率是多少。  

这个问题的解可以用下边这个公式表示   

![image](https://user-images.githubusercontent.com/23400461/142372022-a361828d-8a1c-4c6d-8456-5d07f3cb2a0a.png)

其中  

![image](https://user-images.githubusercontent.com/23400461/142372468-0b7e4ba1-04ac-4248-8459-01be4ca4c35d.png)

稍微解释一下，下边这个图 ! 的意思是阶乘  

这个公式里把 n = 10, i = 3, u = 0.1 的带入进去，就是我们上面的问题推导出来的答案了。

![image](https://user-images.githubusercontent.com/23400461/142560430-fc6d5257-b824-40c9-9076-8b9ab542b5a5.png)


### 贝塞尔曲线

现在我们有了伯恩斯坦多项式，但话说这玩意和绘制平滑的曲线会有什么关系呢。


### 参考文章：  

[贝塞尔曲线中的伯恩斯坦多项式（Bernstein Polynomial）](https://zhuanlan.zhihu.com/p/366082920)
[逼近理论简介](https://zengfk.com.cn/2019/08/11/%E9%80%BC%E8%BF%91%E7%90%86%E8%AE%BA%E7%AE%80%E4%BB%8B-Bernstein-%E5%A4%9A%E9%A1%B9%E5%BC%8F/)



